{% extends "home/utils/base.html" %} {% block content %}
<div class="max-w-screen-lg mx-auto px-4 sm:px-6 lg:px-8 py-12 bg-gray-50">
	<!-- Search and Sort Section -->
	<div class="mb-12">
		<form method="POST" class="flex flex-col sm:flex-row sm:items-center gap-4">
			{% csrf_token %}
			<input
				type="text"
				name="search_input"
				placeholder="Search for a course"
				class="flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow duration-300" />
			<select
				name="sort_by"
				class="border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow duration-300">
				<option value="" disabled selected>Select sorting option</option>
				<option value="low_to_high">Low to High</option>
				<option value="high_to_low">High to Low</option>
			</select>
			<button
				type="submit"
				class="bg-blue-500 text-white rounded-lg px-6 py-2 hover:bg-blue-600 transition duration-300">
				Search
			</button>
		</form>
	</div>

	<!-- Courses Grid -->
	<div class="grid gap-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
		{% for item in courses %}
		<a href="{% url 'single_course_view' item.course_slug %}" class="group">
			<div
				class="bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 transform hover:scale-105">
				{% with first_image=item.images.first %} {% if first_image %}
				<img
					class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-110"
					src="{{ first_image.image.url }}"
					alt="{{ item.course_title }}" />
				{% else %}
				<img
					class="w-full h-48 object-cover"
					src="default-image.jpg"
					alt="Default Image" />
				{% endif %} {% endwith %}
				<div class="p-6">
					<h2
						class="font-bold text-xl text-gray-900 mb-2 group-hover:text-blue-500 transition-colors duration-300">
						{{ item.course_title }}
					</h2>
					<p class="text-gray-700 text-base mb-4">
						{{ item.course_description|truncatewords:20 }}
					</p>
					<div class="text-sm text-gray-500 space-y-1">
						<p>Duration: {{ item.course_duration }}</p>
						<p>Level: {{ item.course_level }}</p>
						<p class="text-green-600 font-semibold">
							Price: {{ item.course_price }}
						</p>
						<p>
							Instructor: {{ item.course_instructor.first_name }}
							{{item.course_instructor.last_name }}
						</p>
					</div>
				</div>
			</div>
		</a>
		{% endfor %}
	</div>
</div>
{% endblock %}
