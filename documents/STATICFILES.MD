## 1. Static Files

`Definition`:

Static files are assets that do not change based on user input or user-specific content. These are files that are needed for the design and behavior of our website, such as:

- CSS (Cascading Style Sheets)
- JavaScript (JS)
- Images used in the design (e.g., icons, logos)
- Fonts
- Static HTML files (if applicable)

`Purpose`:

These files are typically used to enhance the look and feel of the website or for static functionality like JavaScript behavior. They are shared among all users and do not change based on user activity or uploaded content

#### Storage Location:

Static files are stored in directories that you specify in your Django settings (e.g., `STATICFILES_DIRS`, `STATIC_ROOT`).
By default, during development, they are served directly from these locations. In production, they are usually collected into a single directory for easier management

### settings

```py
STATIC_URL = '/static/'  # URL to access static files
STATICFILES_DIRS = [os.path.join(BASE_DIR, 'public/static')]  # Folders to look for static files during development, it is a list of directories.
STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')  # Where to collect static files in production

```

## BASE_DIR = Path(**file**).resolve().parent.parent

```py
BASE_DIR = Path(__file__).resolve().parent.parent
STATICFILES_DIRS = os.path.join(BASE_DIR, 'public/static')
```

##### 1. Path

it is part of `pathlib` module introduced in py 3.4, it returns an object representing current location of the current file(`settings.py`), all file paths are handled in `settings.py`.

##### 2. `__file__`

It refers to the path of current python file, (`settings.py`)

##### 3. resolve()

It returns the absolute path to the file, for instance if file is `settings.py`, resolve will return `/home/user/hooshmandlab-clone/hooshmandlab_clone/hooshmandlab_clone/settings.py`.

#### 4. parent

It gives the directory containing the files, for `settings.py` which is located in `hooshmandlab_clone`, it would return `hooshmandlab_clone` and `Path(__file__).resolve().parent` would return `/home/user/hooshmandlab-clone/hooshmandlab_clone/hooshmandlab_clone`.
Now, `Path(__file__).resolve().parent.parent` would return `/home/user/hooshmandlab-clone/hooshmandlab_clone`.
the second parent gets us where the `manage.py` is located.

Base directory makes our life way easier by allowing to control the full file paths in one place, for instance,

```py
MEDIA_ROOT = BASE_DIR / 'media'
STATIC_ROOT = BASE_DIR / 'static'
TEMPLATES_DIR = BASE_DIR / 'templates'
```

Here, we are adjusting the paths automatically regardless of where our project is located, here all paths are related to base directory.

## STATICFILES_DIRS = os.path.join(BASE_DIR, 'public/static')

It is used to construct a file path combining the `BASE_DIR` and current file path which is `public/static`

##### 1. os.path.join():

os.path.join() is a Python function used to concatenate directory paths in a way that is compatible across different operating systems (Windows, Linux, macOS).
It joins the paths provided as arguments into one complete path, ensuring proper handling of slashes (/ or \) depending on the operating system.

##### 2. Combining BASE_DIR with 'media':

It construct the full path to `media/` directory inside our project.
For instance, if `BASE_DIR` is `/home/user/hooshmandlab-clone/hooshmandlab_clone`, then `os.path.join(BASE_DIR, 'media')` will return `/home/user/hooshmandlab-clone/hooshmandlab_clone/media`

## 2. Media Files

`Definition`:

Media files are user-uploaded files or dynamic content, such as:

- Profile pictures
- Documents
- Audio or video files uploaded by users
- Any file that users can upload or that is generated by the application and needs to be stored dynamically

`Purpose`:

Media files represent user-specific content that can change frequently, and each user or instance might have unique media content. These files need to be stored securely and should be served as needed to the specific users who uploaded them or are authorized to view them.

#### Storage Location:

Media files are typically stored in a specific directory, defined by `MEDIA_ROOT`, separate from static files.
Unlike static files, which are common for all users, media files are specific to individual users or instances.

`Example`:

A user uploading a profile picture, or uploading a PDF document for their portfolio.

### setting

```py
MEDIA_URL = '/media/'  # URL to access media files
MEDIA_ROOT = os.path.join(BASE_DIR, 'media')  # Directory to store media files
```

```table
| **Aspect**              | **Static Files**                                      | **Media Files**                                      |
|-------------------------|------------------------------------------------------|------------------------------------------------------|
| **Purpose**             | Used for files like CSS, JavaScript, images required for styling or front-end functionality. | Used for user-uploaded content like profile pictures, documents, etc. |
| **Location**            | Typically stored in a `static/` directory within each app or in a central `STATICFILES_DIRS` path. | Typically stored in a `media/` directory or a custom directory defined by `MEDIA_ROOT`. |
| **URL Access**          | Accessed via a URL defined by `STATIC_URL`.           | Accessed via a URL defined by `MEDIA_URL`.           |
| **Management**          | Managed by the developer and generally does not change after deployment. | Managed by users, as files are uploaded through forms or admin interfaces. |
| **Example Files**       | CSS, JS, images for the website design.               | Profile pictures, uploaded documents, audio, video files. |
| **Django Settings**     | `STATIC_URL`, `STATICFILES_DIRS`, `STATIC_ROOT`.      | `MEDIA_URL`, `MEDIA_ROOT`.                          |
| **Default Folder**      | `static/`.                                            | `media/`.                                            |
| **File Changes**        | Rarely changes after deployment.                     | Changes frequently as users upload or modify content. |

```

## How files are stored and accessed:

#### 1. Access URL

This how user's browser will request files via HTTP, such as `/static/` or `/media/`, these URLs will be mapped to respective directories.
For instance a css file might be accessible via

`https://youtube.com/static/styles.css`

For media files:

`https://youtube.com/media/profile.jpg`

#### 2. Storage URL

This the place where files are stored physically on our `servers file system`,

`statice` files are typically stored in `static/` folder.
`media` files are typically stored in `media/` folder, we can customize the path through `MEDIA_ROOT`.

##### For example

- `static file` will be stored `hooshmandlab_clone/static/style.css`
- `media file` will be store `hooshmandlab_clone/media/profile.png`

## Finally,

Paste the following snipper in your `settings.py`

```py
STATIC_URL = "/static/"
STATIC_ROOT = os.path.join(BASE_DIR, "public/static")  # Directory to collect static files for deployment
STATICFILES_DIRS = [os.path.join(BASE_DIR, "staticfiles")]  # Additional directories to look for static files
MEDIA_URL = "/media/"
MEDIA_ROOT = os.path.join(BASE_DIR, "media")  # Directory to save media files
```

```js
desktop/
└── hooshmandlab-clone/
    └── hooshmandlab_clone/
        ├── manage.py
        ├── public/
        │   └── static/
        ├── staticfiles/
        └── media/       # Uploaded media files will be stored here
```

#### Summary of the Configuration

- Static Files:

  - Accessed at URLs starting with /static/.
  - Collected into staticfiles for deployment.
  - Additional static files can be found in public/static.

- Media Files:

  - Accessed at URLs starting with /media/.
  - Stored in public/media.

## Define the urls for static and media files

```py
if settings.DEBUG:
    urlpatterns += static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
```

`static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)`: This line tells Django to serve static files from the directory specified in STATIC_ROOT under the /static/ URL prefix.

`static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)`: This line tells Django to serve media files from the directory specified in MEDIA_ROOT under the /media/ URL prefix.

## Collect static files for production

```py
# to collect all static files into the STATIC_ROOT directory for production.
python manage.py collectstatic
```

During development, Django can serve media files directly. However, in production, it's generally recommended to use a dedicated web server like Nginx or Apache to serve media files.
